<!DOCTYPE html>
<html lang="zh-cn">

	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta http-equiv="X-UA-Compatible" content="ie=edge" />
		<title>智能通信运营管理平台</title>
		<link rel="stylesheet" href="../../css/style.css" />
		<link rel="stylesheet" href="../../css/layui.css" />
		<script src="../../js/api.js"></script>
		<script src="../../js/jquery-3.0.0.min.js"></script>
		<script src="../laydate/laydate.js"></script>
		<script src="../../js/vue.min.js"></script>
	</head>
	<!--[if IE 9]>
<style>
    #leftMenu_Box{
        width: 15.08%;
        height: 979px;
        float: left;
        background: #040b29;
        position: relative;
        box-shadow: 0px 8px 20px 0px rgba(0,0,0,0.5);
    }
</style>
<![endif]-->
	<style>
		#leftMenu_Box .leftMenu ul li div.prop a.prop21 {
			background-color: #1890FF !important;
			color: #fff !important;
		}
		
		.shade_con {
			height: auto;
			width: 85%;
			padding-bottom: 20px;
		}
		
		.shade_con1 {
			width: 380px;
			height: auto;
		}
		
		.shade_con1 .temp {
			height: auto;
			width: auto;
			border: none;
			margin: 10px 22px 0 22px;
		}
		/*.shade_con1 {
        width: 1000px;
        height: auto;
    }
    .shade_con1 .temp{
        height: auto;

    }*/
		
		.sw_row tr td:nth-child(9) {
			padding: 8px 0;
		}
		
		.sw_row tr td div {
			white-space: nowrap;
			overflow: hidden;
			text-overflow: ellipsis;
			padding-right: 10px;
			box-sizing: border-box;
		}
		
		.fileinput-button {
			position: relative;
			display: inline-block;
			/* overflow: hidden;*/
		}
		
		.fileinput-button input {
			position: absolute;
			right: 0px;
			top: 0px;
			opacity: 0;
			-ms-filter: 'alpha(opacity=0)';
			width: 100%;
			/*font-size: 200px;*/
		}
	</style>

	<body>
		<div id="proMang">
			<div class="top"><img src="../../img/logo.png" alt="" class="logo">
				<ul>
					<li class="top-a-box" data-value="210">
						<a href="../workbench/order_fail.html"><span class="iconfont icon-diannao" style="font-size: 22px;"></span> 工作台
						</a>
					</li>
					<li class="top-a-box " data-value="211">
						<a href="../user_manage/user_manage.html">
							<span class="iconfont icon-yonghu" style="font-size: 22px;"></span> 用户管理
						</a>
					</li>
					<li class="top-a-box addClass" data-value="212">
						<a href="./order_manage.html"><span class="iconfont icon-dingdanguanli" style="font-size: 22px;"></span> 订单管理
						</a>
					</li>
					<li class="top-a-box " data-value="213">
						<a href="../resource/take_orders.html"><span class="iconfont icon-iconfonticon-shebei" style="font-size: 22px;"></span> 资源配置
						</a>
					</li>
				</ul>
				<div class="sign">
					<span class="ren"></span> <span class="type"></span>
					<img src="../../img/退出.png" alt="" onclick="sign()">
				</div>
			</div>
		</div>
		<div class="main-box">
			<!-- 左侧菜单 -->
			<div id="leftMenu_Box" class="order_manage">
				<div class="leftMenu">
					<ul>
						<li class="left_a  dn" data-value="21210">
							<a href="./order_manage.html" class="leftNav">
								<span class="iconfont icon-guanli"></span> 订单管理
							</a>
						</li>
						<li class="left_a dn " data-value="21210">
                    <a href="./order_rule.html" class="leftNav sw_url" >
                        <span class="iconfont icon-guanli"></span>
                        订单规则
                    </a>
                </li>
						<li class="left_a  dn" data-value="21211">
							<a href="./order_list.html" class="leftNav">
								<span class="iconfont icon-liebiao"></span> 详单列表
							</a>
						</li>
						<li class="left_a dn" data-value="21214">
							<a href="./order_detail.html" class="leftNav">
								<span class="iconfont icon-liebiao"></span> 接单明细
							</a>
						</li>
						<li class="left_a dn" data-value="21212">
							<a href="javascript:void(0);" class="leftNav" onclick="aa(event)">
								<span class="iconfont icon-diannao-shuju"></span> 客户支持
								<i class="iconfont icon-iconfontfold"></i> </a>

							<div class="prop dns">
								<a href="./signature_distribute.html" data-value="2121210" class="prop13 left_a dn">签名分布</a>
								<a href="./called_distribute.html" data-value="2121211" class="prop22 left_a dn">被叫分布</a>
								<a href="./client_type.html" data-value="2121212" class="prop33 left_a dn">客户订单类型</a>
							</div>
						</li>
						<li class="left_a addclass_one dn" data-value="21213">
							<a href="javascript:void(0);" class="leftNav" onclick="aa(event)">
								<span class="iconfont icon-diannao-shuju"></span> 通道管理
								<i class="iconfont icon-icon11"></i> </a>

							<div class="prop dbs">
								<a href="./channel_new.html" data-value="2121310" class="prop20 left_a  dn">通道信息</a>
								<!--<a href="./channel_test.html" data-value="2121311" class="prop24 left_a dn">通道测试</a>-->
								<a href="javascript:void(0);" data-value="2121312" class="prop21 left_a  dn">报告状态记录</a>
								<a href="./status_report_reset.html" data-value="2121313" class="prop23 left_a  dn">报告状态重推</a>
								<!--<a href="./channel_test.html" data-value="21211" class="prop21 left_a dn">通道测试</a>-->
							</div>
						</li>
					</ul>
					<div class="group" onclick="flexible(event)"><span class="iconfont icon-xiangzuo" style="color: rgb(255, 255, 255); font-size: 13px;"></span>
					</div>
				</div>
			</div>
			<div id="rightTable">
				<v-order-fail></v-order-fail>
			</div>
		</div>
		<div id="shade">
			<v-tong-ji></v-tong-ji>
		</div>
		<div id="shade1">
			<v-edit></v-edit>
		</div>
		<script type="text/x-template" id="right-template">
			<div>
				<div class="table_tou">
					<h6 class="fl">报告状态记录</h6>

					<div class="fr sw_padd">
						<span class="sw_num" v-cloak>{{totalCount}}</span
                    >&nbsp; &nbsp;<span style="color:#738495">条记录</span>
						<span class="Gradual" @click="shade()">
              <span class="iconfont icon-export">&nbsp;文件导入</span>
						</span>
					</div>
				</div>
				<div class="table_nav">
					<form class="layui-form layui-form-pane" action="">
						<div class="layui-inline">
							<label class="">开始时间</label><br/>

							<div class="layui-input-inline">
								<input type="text" name="startDate" class="layui-input" autocomplete="off" id="test" />
								<img src="../../img/Shape.png" alt="" />
							</div>
						</div>
						<div class="layui-inline">
							<label class="">结束时间</label><br/>

							<div class="layui-input-inline">
								<input type="text" name="endDate" class="layui-input" autocomplete="off" id="test1" />
								<img src="../../img/Shape.png" alt="" />
							</div>
						</div>
						<div class="layui-inline dropdown unlike2">
							<label class="">用户</label><br/>
							<input type="text" class="dropdown-selected" name="userId" autocomplete="off" placeholder="请输入">
							<ul class="dns">
								<li v-for="(li, index) in userData">
									<a href="javaScript:" :data="li.userId">{{li.loginName}}</a>
								</li>
							</ul>
						</div>
						<div class="layui-inline dropdown1 unlike3">
							<label class="">网关</label><br />
							<input type="text" class="dropdown-selected1" name="ismgId" autocomplete="off" placeholder="请输入">
							<ul class="dns">
								<li v-for="(li, index) in userData1">
									<a href="javaScript:" :data="li.ismgId">{{li.ismgName}}</a>
								</li>
							</ul>
						</div>
						<div class="layui-inline">
							<label class="">是否发送成功</label><br/>

							<div class="layui-input-inline">
								<select name="sendState">
									<option value="1" selected>是</option>
									<option value="0">否</option>
								</select>
							</div>
						</div>
						<div class="layui-inline">
							<label class="">接收号码</label><br/>

							<div class="layui-input-inline">
								<input type="text" name="srcTerminalId" placeholder="请输入" class="layui-input" />
							</div>
						</div>
						<div class="layui-input-inline">
							<button class="sw_btn1" lay-submit="" lay-filter="demo">
                        查询
                    </button>
							<span class="sw_btn1" @click="edit()" style="margin: 0px">
                        批量修改
                    </span>
						</div>
					</form>
					<div class="sw_row">
						<table style="margin-top: 15px;width: 100%;">
							<tr>
								<th>
									<form class="layui-form layui-form-pane" action="" style="padding:0px;border:none" @click="check_all($event)">
										<input type="checkbox" name="全选" lay-skin="primary" title="" />
									</form>
								</th>
								<th>MSGID1</th>
								<th>MSG2</th>
								<th>订单号</th>
								<th>登录名</th>
								<th>下发网关</th>
								<th>接收号码</th>
								<!--<th >状态报告</th>-->
								<!--<th >接收时间</th>-->
								<th>发送时间</th>
								<!--<th >回执时间</th>-->
								<th>发送方式</th>
							</tr>
							<tr v-cloak v-for="(li, index) in allData">
								<td>
									<form class="layui-form layui-form-pane" action="" style="padding:0px;border:none" @click="radio($event)">
										<input type="checkbox" class="radio" name="多项" :data="li.msgId2" lay-skin="primary" title="" />
									</form>
								</td>
								<td>{{li.msgId1}}</td>
								<td>{{li.msgId2}}</td>
								<td>{{li.taskSn}}</td>
								<td>{{li.loginName}}</td>
								<td>{{li.ismgName}}</td>
								<td>{{li.srcTerminalId}}</td>
								<!--<td>{{li.receiptText}}</td>-->
								<!--<td>{{li.submitTime2 | limitTo}}</td>-->
								<td>{{li.doneTime2 | limitTo}}</td>
								<!--<td>{{li.receiptTime | limitTo}}</td>-->
								<td>
									<span v-if="li.howSend == '0'">待发</span>
									<span v-if="li.howSend == '1'">A</span>
									<span v-if="li.howSend == '2'">Z报成功</span>
									<span v-if="li.howSend == '3'">Z报失败</span>
									<span v-if="li.howSend == '4'">Z报空号</span>
									<span v-if="li.howSend == '5'">Z报内容限制</span>
								</td>
							</tr>

						</table>
						<div class="sw_pad8" v-show="mapShow == true">暂无数据</div>
					</div>
					<div id="page"></div>
				</div>
			</div>
		</script>
		<script type="text/x-template" id="tong-template">
			<div class="shade_con">
				<div class="tongji">
					<h3>报告状态导入</h3>
					<span class="iconfont icon-shanchu" @click="shanchu()"></span>
				</div>
				<form class="layui-form layui-form-pane" action="" style="margin:10px 20px 0px 22px;border: 1px solid #F0F4F8;background: #FBFBFB">
					<div class="layui-inline">
						<label class="">开始时间</label><br/>

						<div class="layui-input-inline">
							<input type="text" name="startDate" v-model="data1.startDate" class="layui-input" autocomplete="off" id="test3" />
							<img src="../../img/Shape.png" alt="" />
						</div>
					</div>
					<div class="layui-inline">
						<label class="">结束时间</label><br/>

						<div class="layui-input-inline">
							<input type="text" name="endDate" v-model="data1.endDate" class="layui-input" autocomplete="off" id="test4" />
							<img src="../../img/Shape.png" alt="" />
						</div>
					</div>
					<div class="layui-inline dropdown unlike1">
						<label class="">用户名</label><br />
						<input type="text" class="dropdown-selected1" name="userId" autocomplete="off" placeholder="请输入">
						<ul class="dns">
							<li v-for="(li, index) in userData">
								<a href="javaScript:" :data="li.userId">{{li.loginName}}</a>
							</li>
						</ul>
					</div>
					<div class="layui-inline dropdown1 unlike4">
						<label class="">网关</label><br />
						<input type="text" class="dropdown-selected1" name="ismgId" autocomplete="off" placeholder="请输入">
						<ul class="dns">
							<li v-for="(li, index) in userData1">
								<a href="javaScript:" :data="li.ismgId">{{li.ismgName}}</a>
							</li>
						</ul>
					</div>
					<div class="layui-inline">
						<label class="">接收号码</label><br/>

						<div class="layui-input-inline">
							<input type="text" name="srcTerminalId" v-model="data1.srcTerminalId" placeholder="请输入" class="layui-input" />
						</div>
					</div>
					<div class="layui-input-inline">
						<div class="fileinput-button" style="margin-top: 26px;">
							<!--<span class="Gradual1" >批量导入</span>-->
							<span class="Gradual1 iconfont icon-export" style="font-size: 14px;">&nbsp;文件导入</span>
							<input id="file" type="file" />
						</div>
					</div>
					<div class="layui-input-inline">
						<button class="sw_btn1" lay-submit="" lay-filter="demo2">
                        查询
                    </button>
					</div>
				</form>
				<div class="table_tou" style="margin:10px 20px -1px 22px;">
					<h6 class="fl">报告匹配结果</h6>
					<div class="fr sw_padd">
						<span class="Gradual" @click="importFileT()">
                  <span >确定导入</span>
						</span>
					</div>
				</div>
				<div class="sw_row heightScroll" style="margin:0 20px 0 22px;padding:0 15px;background: #fff;border: 1px solid #E1E7EC;border-bottom:none;">
					<table style="margin-top: 15px;width: 100%;">
						<tr>
							<th style="">MSG2</th>
							<th style="">登录名</th>
							<th style="">下发网关</th>
							<th style="">接收号码</th>
							<th style="">状态报告</th>
							<th style="">接收时间</th>
							<th style="">发送时间</th>
							<th style="">回执时间</th>
							<th style="">发送方式</th>
						</tr>
						<tr v-for="(li, index) in allData1">
							<td>{{li.msgId2}}</td>
							<td>{{li.loginName}}</td>
							<td>{{li.ismgName}}</td>
							<td>{{li.srcTerminalId}}</td>
							<td>{{li.receiptText}}</td>
							<td>{{li.submitTime2}}</td>
							<td>{{li.doneTime2}}</td>
							<td>{{li.receiptTime}}</td>
							<td>
								<span v-if="li.howSend == '0'">待发</span>
								<span v-if="li.howSend == '1'">A</span>
								<span v-if="li.howSend == '2'">Z报成功</span>
								<span v-if="li.howSend == '3'">Z报失败</span>
								<span v-if="li.howSend == '4'">Z报空号</span>
								<span v-if="li.howSend == '5'">Z报内容限制</span>
							</td>
						</tr>
					</table>
					<div class="sw_pad8" v-show="mapShow1 == true">暂无数据</div>
				</div>
				<div style="text-align: center;">
					<span class="sw_btn1" @click="shanchu()">
                关闭
            </span>
				</div>
			</div>
		</script>
		<script type="text/x-template" id="edit-template">
			<div class="shade_con1">
				<div class="tongji">
					<h3>批量修改</h3>
					<span class="iconfont icon-shanchu" @click="shanchu()"></span>
				</div>
				<div class="temp">
					<form class="layui-form layui-form-pane" action="" style="padding: 15px 0 20px 20px;">
						<div class="layui-inline">
							<label class="padR_10">报告状态</label>
							<div class="layui-input-inline" style="width: auto !important;height: auto;">
								<input type="radio" name="receiptText" value="DELIVRD" title="修改成功DELIVRD" checked>
								<input type="radio" name="receiptText" value="UNDELIV" title="修改失败UNDELIV">
								<input type="radio" name="receiptText" value="REJECTD" title="修改失败REJECTD">
								<input type="radio" name="receiptText" value="RANDOM" title="随机失败">
							</div>
						</div>
						<br>
						<div class="layui-input-inline">
							<button lay-submit="" lay-filter="demo1" class="sw_btn1" style="margin: 20px 0px 0px 100px;">
                        确定修改
                    </button>
						</div>
					</form>
				</div>
			</div>
		</script>
		<script src="../../layui.all.js"></script>
		<script src="../../module/status_report_record.js"></script>
		<script>
			//头部
			//    var operaAI = new Vue({
			//        el: "#proMang",
			//        data: {
			//            topCurrent: 0
			//        }
			//    });
			order_manage()
			var rightTable = new Vue({
				el: "#rightTable"
			});
			var shade = new Vue({
				el: "#shade"
			});
			var shade1 = new Vue({
				el: "#shade1"
			});
			$(function() {
				laydate.render({
					elem: "#test", //指定元素
					type: 'datetime',
					//showBottom: false,
					value: getDay(0)+' 00:00:00',

				});
				laydate.render({
					elem: "#test1", //指定元素
					type: 'datetime',
					//showBottom: false,
					value: getDay(0)+' 23:59:59',

				});
				laydate.render({
					elem: "#test3", //指定元素
					type: 'datetime',
					//showBottom: false,
					value: getDay(0)+' 00:00:00',

				});
				laydate.render({
					elem: "#test4", //指定元素
					type: 'datetime',
					//showBottom: false,
					value: getDay(0)+' 23:59:59',

				});
				$(document).ready(function() {

				});
				total($(".unlike2 ul li"), $(".unlike2 .dropdown-selected"), $(".unlike2 ul"), $(".unlike2"));
				total($(".unlike3 ul li"), $(".unlike3 .dropdown-selected1"), $(".unlike3 ul"), $(".unlike3"));
				total($(".unlike1 ul li"), $(".unlike1 .dropdown-selected1"), $(".unlike1 ul"), $(".unlike1"));
				total($(".unlike4 ul li"), $(".unlike4 .dropdown-selected1"), $(".unlike4 ul"), $(".unlike4"));
			});
		</script>
	</body>

</html>