<!DOCTYPE html>
<html lang="zh-cn">

	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta http-equiv="X-UA-Compatible" content="ie=edge" />
		<title>智能通信运营管理平台</title>
		<link rel="stylesheet" href="../../css/style.css" />
		<link rel="stylesheet" href="../../css/layui.css" />
		<script src="../../js/api.js"></script>
		<script src="../../js/jquery-3.0.0.min.js"></script>
		<script src="../laydate/laydate.js"></script>
		<script src="../../js/vue.min.js"></script>
	</head>
	<!--[if IE 9]>
<style>
    #leftMenu_Box{
        width: 15.08%;
        height: 979px;
        float: left;
        background: #040b29;
        position: relative;
        box-shadow: 0px 8px 20px 0px rgba(0,0,0,0.5);
    }
</style>
<![endif]-->
	<style>
		#leftMenu_Box .leftMenu ul li div.prop a.prop23 {
			background-color: #1890FF !important;
			color: #fff !important;
		}		
		.shade_con {
        width: 1220px;
        height: 390px;
    }

    .shade_con .temp {
        width: 96%;
        height: auto;
    }

    .layui-inline .aa{
        width: 100px;
        text-align: left;
        height: 22px;
    }
		/*.shade_con1 {
        width: 1000px;
        height: auto;
    }
    .shade_con1 .temp{
        height: auto;

    }*/
		
		.sw_row tr td:nth-child(9) {
			padding: 8px 0;
		}
		.sw_row tr td:nth-child(1):hover{
			color: #767af9;
			cursor: default;
		}
		.sw_row tr td div {
			white-space: nowrap;
			overflow: hidden;
			text-overflow: ellipsis;
			padding-right: 10px;
			box-sizing: border-box;
		}
		
		.sw_row tr td:nth-child(3) div {
			max-width: 360px;
		}
		
		.sw_row tr td:nth-child(4) div {
			max-width: 360px;
		}
		
		.sw_row tr td:nth-child(8) div {
			max-width: 540px;
		}
		
		.heightScroll {
			max-height: 300px;
		}
		#text3 {
			width: 300px;
			height: 67px;
			margin: 0px 18px 0 0px;
			border: 1px solid #e2e2e2;
			box-sizing: border-box;
			padding: 7px;
		}
		@media screen and (max-width: 1800px) {
			.sw_row tr td:nth-child(4) div {
				max-width: 150px;
			}
			.sw_row tr td:nth-child(3) div {
				max-width: 110px;
			}
			.heightScroll {
				max-height: 160px;
			}
			.sw_row tr td:nth-child(8) div {
				max-width: 150px;
			}
			.shade_con1 {
				width: 1020px;
				max-height: 660px;
			}
			.shade_con1 .temp {
				height: 400px;
				width: 985px;
				overflow-y: auto;
			}
		}
		
		#text2 {
			width: 912px;
			height: 67px;
			margin: 10px 18px 0 0px;
			border: 1px solid #e2e2e2;
			box-sizing: border-box;
			padding: 7px;
		}
		
		.addClass4 {
			background: #E1EFFF;
		}
		
		.fileinput-button {
			position: relative;
			display: inline-block;
			/* overflow: hidden;*/
		}
		
		.fileinput-button input {
			position: absolute;
			right: 0px;
			top: 0px;
			opacity: 0;
			-ms-filter: 'alpha(opacity=0)';
			width: 100%;
			/*font-size: 200px;*/
		}
	</style>

	<body>
		<div id="proMang">
			<div class="top"><img src="../../img/logo.png" alt="" class="logo">
				<ul>
					<li class="top-a-box" data-value="210">
						<a href="../workbench/order_fail.html"><span class="iconfont icon-diannao" style="font-size: 22px;"></span> 工作台
						</a>
					</li>
					<li class="top-a-box " data-value="211">
						<a href="../user_manage/user_manage.html">
							<span class="iconfont icon-yonghu" style="font-size: 22px;"></span> 用户管理
						</a>
					</li>
					<li class="top-a-box addClass" data-value="212">
						<a href="./order_manage.html"><span class="iconfont icon-dingdanguanli" style="font-size: 22px;"></span> 订单管理
						</a>
					</li>
					<li class="top-a-box " data-value="213">
						<a href="../resource/take_orders.html"><span class="iconfont icon-iconfonticon-shebei" style="font-size: 22px;"></span> 资源配置
						</a>
					</li>
				</ul>
				<div class="sign">
					<span class="ren"></span> <span class="type"></span>
					<img src="../../img/退出.png" alt="" onclick="sign()">
				</div>
			</div>
		</div>
		<div class="main-box">
			<!-- 左侧菜单 -->
			<div id="leftMenu_Box" class="order_manage">
				<div class="leftMenu">
					<ul>
						<li class="left_a  dn" data-value="21210">
							<a href="./order_manage.html" class="leftNav">
								<span class="iconfont icon-guanli"></span> 订单管理
							</a>
						</li>
						<li class="left_a dn " data-value="21210">
                    <a href="./order_rule.html" class="leftNav sw_url" >
                        <span class="iconfont icon-guanli"></span>
                        订单规则
                    </a>
                </li>
						<li class="left_a  dn" data-value="21211">
							<a href="./order_list.html" class="leftNav">
								<span class="iconfont icon-liebiao"></span> 详单列表
							</a>
						</li>
						<li class="left_a dn" data-value="21214">
							<a href="./order_detail.html" class="leftNav">
								<span class="iconfont icon-liebiao"></span> 接单明细
							</a>
						</li>
						<li class="left_a dn" data-value="21212">
							<a href="javascript:void(0);" class="leftNav" onclick="aa(event)">
								<span class="iconfont icon-diannao-shuju"></span> 客户支持
								<i class="iconfont icon-iconfontfold"></i> </a>

							<div class="prop dns">
								<a href="./signature_distribute.html" data-value="2121210" class="prop13 left_a dn">签名分布</a>
								<a href="./called_distribute.html" data-value="2121211" class="prop22 left_a dn">被叫分布</a>
								<a href="./client_type.html" data-value="2121212" class="prop33 left_a dn">客户订单类型</a>
							</div>
						</li>
						<li class="left_a addclass_one dn" data-value="21213">
							<a href="javascript:void(0);" class="leftNav" onclick="aa(event)">
								<span class="iconfont icon-diannao-shuju"></span> 通道管理
								<i class="iconfont icon-icon11"></i> </a>

							<div class="prop dbs">
								<a href="./channel_new.html" data-value="2121310" class="prop20 left_a  dn">通道信息</a>
								<!--<a href="./channel_test.html" data-value="2121311" class="prop24 left_a dn">通道测试</a>-->
								<a href="./status_report_record.html" data-value="2121312" class="prop21 left_a  dn">报告状态记录</a>
								<a href="javascript:void(0);" data-value="2121313" class="prop23 left_a  dn">报告状态重推</a>
								<!--<a href="./channel_test.html" data-value="21211" class="prop21 left_a dn">通道测试</a>-->
							</div>
						</li>
					</ul>
					<div class="group" onclick="flexible(event)"><span class="iconfont icon-xiangzuo" style="color: rgb(255, 255, 255); font-size: 13px;"></span>
					</div>
				</div>
			</div>
			<div id="rightTable">
				<v-order-fail></v-order-fail>
			</div>
		</div>
		<div id="shade">
			<v-template></v-template>
		</div>
		<script type="text/x-template" id="right-template">
			<div>
				<div class="table_tou">
					<h6 class="fl">报告状态重推</h6>

					<div class="fr sw_padd">
						<span class="sw_num" v-cloak>{{totalCount}}</span
                    >&nbsp; &nbsp;<span style="color:#738495">条记录</span>
						<!--<span class="Gradual" @click="shade()">
              <span class="iconfont icon-export">&nbsp;文件导入</span>
            </span> -->
						<span class="Gradual" @click="empty()">
              <span
                      class="iconfont icon-shanchu"
                      >&nbsp;清除文件</span
                      >
            </span>
						<span class="Gradual" @click="importFile()">
              <span
                      class="iconfont icon-export"
                      >&nbsp;导出</span
                      >
            </span>
					</div>
				</div>
				<div class="table_nav">
					<form class="layui-form layui-form-pane" action="">
						<div class="layui-inline">
							<label class="">开始时间</label><br/>

							<div class="layui-input-inline">
								<input type="text" name="startDate" class="layui-input" autocomplete="off" id="test" />
								<img src="../../img/Shape.png" alt="" />
							</div>
						</div>
						<div class="layui-inline">
							<label class="">结束时间</label><br/>

							<div class="layui-input-inline">
								<input type="text" name="endDate" class="layui-input" autocomplete="off" id="test1" />
								<img src="../../img/Shape.png" alt="" />
							</div>
						</div>
						<div class="layui-inline dropdown unlike2">
							<label class="">用户</label><br/>
							<input type="text" class="dropdown-selected" name="userId" autocomplete="off" placeholder="请输入">
							<ul class="dns">
								<li v-for="(li, index) in userData">
									<a href="javaScript:" :data="li.userId">{{li.loginName}}</a>
								</li>
							</ul>
						</div>
						<div class="layui-inline dropdown1 unlike3">
							<label class="">网关</label><br />
							<input type="text" class="dropdown-selected1" name="ismgId" autocomplete="off" placeholder="请输入">
							<ul class="dns">
								<li v-for="(li, index) in userData1">
									<a href="javaScript:" :data="li.ismgId">{{li.ismgName}}</a>
								</li>
							</ul>
						</div>
						<div class="layui-inline">
							<label class="">接收号码</label><br/>

							<div class="layui-input-inline">
								<input type="text" name="srcTerminalId" placeholder="请输入" class="layui-input" />
							</div>
						</div>
						<div class="layui-inline">
              <label class="">任务号</label><br />
              <div class="layui-input-inline">
                <input
                        type="text"
                        name="taskSn"                        
                        placeholder="请输入"
                        class="layui-input"
                        />
              </div>
            </div>
            <div class="layui-inline">
							<label class="">报告结果</label><br/>
							<div class="layui-input-inline">
								<select name="deliverState">
									<option value="" selected>全部</option>
									<option value="1">已取</option>
									<option value="0">未取</option>
								</select>
							</div>
						</div>
						<div class="layui-input-inline">
							<div class="fileinput-button" style="margin-top: 26px;">
								<!--<span class="Gradual1" >批量导入</span>-->
								<span class="Gradual1 iconfont icon-export" style="font-size: 14px;margin: 0px 5px;">&nbsp;文件导入</span>
								<input id="file" type="file" />
							</div>
						</div>
						<div class="layui-input-inline">
							<button class="sw_btn1" lay-submit="" lay-filter="demo">
                        	查询
                    </button>
							<span class="sw_btn1" lay-submit="" lay-filter="demo1" style="margin: 0px">
                        	报告重推
                    </span>
						</div>
					</form>
					<div class="sw_row">
						<table style="margin-top: 15px;min-width: 1550px;">
							<tr>
								<th>任务号</th>
								<th>MSGID1</th>
								<th>MSG2</th>
								<th>登录名</th>
								<th>下发网关</th>
								<th>接收号码</th>
								<th>状态报告</th>
								<th>提交时间</th>
								<th>报告状态时间</th>
								<th>报告推送时间</th>
								<th>下单方式</th>								
								<th>报告结果</th>
							</tr>
							<tr v-cloak v-for="(li, index) in allData">
								<td @click="shade(li.taskSn)">{{li.taskSn}}</td>
								<td>{{li.msgId1}}</td>
								<td>{{li.msgId2}}</td>
								<td>{{li.loginName}}</td>
								<td>{{li.ismgName}}</td>
								<td>{{li.srcTerminalId}}</td>
								<td>{{li.receiptText}}</td>
								<td>{{li.submitTime2 | limitTo}}</td>
								<td>{{li.receiptTime | limitTo}}</td>
								<td>{{li.receiptDeliverTime | limitTo}}</td>
								<td>{{li.protocol}}</td>
								<td>
									<span style="color:#9AC938" v-if="li.deliverState > '0'">已取</span>
									<span style="color:#ff0000" v-if="li.deliverState == '0'">未取</span>
								</td>

							</tr>

						</table>
						<div class="sw_pad8" v-show="mapShow == true">暂无数据</div>
					</div>
					<div id="page"></div>
				</div>
			</div>
		</script>
		<script type="text/x-template" id="shade-template">
    <div>
        <div class="shade_con">
            <div class="tongji">
                <h3>任务号详情</h3>
                <span class="iconfont icon-shanchu" @click="shanchu()"></span>
            </div>
            <div class="temp">
                <form class="layui-form " action="" style="padding: 0px 0px 0px 0px;">
                    <div class="layui-tab layui-tab-card">
                        <!--<ul class="layui-tab-title">
                            <li class="layui-this sw_cc">下单信息</li>                            
                        </ul>-->
                        <div class="layui-tab-content">
                            <div class="layui-tab-item layui-show sw_ww">                          
                                <div class="layui-inline">
                                    <label class="aa">用户名</label>
                                    <div class="layui-input-inline" style="width:270px">
                                        <input type="text" name="loginName" v-model="info.loginName"   autocomplete="off" class="layui-input">
                                    </div>
                                </div>
                                <div class="layui-inline">
                                    <label class="aa">被叫号码</label>
                                    <div class="layui-input-inline" style="width:270px">
                                        <input type="text" name="receiverMsisdn" v-model="info.receiverMsisdn"  placeholder="必填" autocomplete="off" class="layui-input">
                                    </div>
                                </div>
                                <div class="layui-inline">
                                    <label class="aa">归属地</label>
                                    <div class="layui-input-inline" style="width:270px">
                                        <input type="text" name="province" v-model="info.province"  autocomplete="off" class="layui-input">
                                    </div>
                                </div>                               
                                <div class="layui-inline">
                                    <label class="aa">发送类型</label>
                                    <div class="layui-input-inline" style="width:270px">
                                        <input type="text" name="typeName" v-model="info.typeName"  autocomplete="off" class="layui-input">
                                    </div>
                                </div>
                                <div class="layui-inline">
                                    <label class="aa">长短信条数</label>
                                    <div class="layui-input-inline" style="width:270px">
                                        <input type="text" name="msgTotal" v-model="info.msgTotal"  autocomplete="off" class="layui-input">
                                    </div>
                                </div>
                                <div class="layui-inline">
                                    <label class="aa">成功数量</label>
                                    <div class="layui-input-inline" style="width:270px">
                                        <input type="text" name="successAmount" v-model="info.successAmount"  autocomplete="off" class="layui-input">
                                    </div>
                                </div>
                                <div class="layui-inline">
                                    <label class="aa">接单时间</label>
                                    <div class="layui-input-inline" style="width:270px">
                                        <input type="text" name="createTime" v-model="info.createTime"  autocomplete="off" class="layui-input">
                                    </div>
                                </div>
                                <div class="layui-inline">
                                    <label class="aa">发送时间</label>
                                    <div class="layui-input-inline" style="width:270px">
                                        <input type="text" name="sentTime" v-model="info.sentTime" autocomplete="off" class="layui-input">
                                    </div>
                                </div>
                                <div class="layui-inline">
                                    <label class="aa">回执时间</label>
                                    <div class="layui-input-inline" style="width:270px">
                                        <input type="text" name="receiptTime" v-model="info.receiptTime" autocomplete="off" class="layui-input">
                                    </div>
                                </div>
                                <div class="layui-inline">
                                    <label class="aa">状态报告</label>
                                    <div class="layui-input-inline" style="width:270px">
                                        <input type="text" name="receiptStatusText" v-model="info.receiptStatusText"  autocomplete="off" class="layui-input">
                                    </div>
                                </div>
                            	<div class="layui-inline">
                                    <label class="aa">状态说明</label>
                                    <div class="layui-input-inline" style="width:270px">
                                        <input type="text" name="receiptStatusCode" v-model="info.receiptStatusCode"  autocomplete="off" class="layui-input">
                                    </div>
                                </div>
                                <div class="layui-inline">
                                    <label class="aa">接入号</label>
                                    <div class="layui-input-inline" style="width:270px">
                                        <input type="text" name="srcId" v-model="info.srcId"  autocomplete="off" class="layui-input">
                                    </div>
                                </div>
                                <div class="layui-inline">
                                    <label class="aa">发送方式</label>
                                    <div class="layui-input-inline" style="width:270px">
                                        <input type="text" name="howSend" v-model="info.howSend"  autocomplete="off" class="layui-input">
                                    </div>
                                </div>
                                <div class="layui-inline">
                                    <label class="aa">网关</label>
                                    <div class="layui-input-inline" style="width:270px">
                                        <input type="text" name="ismgName" v-model="info.ismgName"  autocomplete="off" class="layui-input">
                                    </div>
                                </div>
                                <div class="layui-inline">
                                    <label class="aa">任务号</label>
                                    <div class="layui-input-inline" style="width:270px">
                                        <input type="text" name="taskSn" v-model="info.taskSn"  autocomplete="off" class="layui-input">
                                    </div>
                                </div>
                                <div class="layui-inline">
                                    <label class="aa">短信内容</label>
                                    <div class="layui-input-inline" style="width:1036px;height: auto">
																				<textarea name="msgContent" v-model="info.msgContent" id="text3" placeholder="请输入" style="width: 1036px"></textarea>
																			</div>
                                </div>
                            </div>                                                                                   
                        </div>
                    </div>
                    <div class="layui-input-inline">
                        <span class="sw_btnwrong " style="margin: 10px 0 10px 540px;" @click="shanchu()">关闭</span>
                    </div>
                </form>
            </div>
        </div>
    </div>
</script>
		<script src="../../layui.all.js"></script>
		<script src="../../module/status_report_reset.js"></script>
		<script>
			//头部
			//    var operaAI = new Vue({
			//        el: "#proMang",
			//        data: {
			//            topCurrent: 0
			//        }
			//    });
			order_manage()
			var rightTable = new Vue({
				el: "#rightTable"
			});
			var shade = new Vue({
				el: "#shade"
			});
			var shade1 = new Vue({
				el: "#shade1"
			});
			$(function() {
				laydate.render({
					elem: "#test", //指定元素
					type: 'datetime',
					//showBottom: false,
					value: getDay(0)+' 00:00:00',

				});
				laydate.render({
					elem: "#test1", //指定元素
			    type: 'datetime',
					
					value: getDay(0)+' 23:59:59',

				});
				//      laydate.render({
				//          elem: "#test3", //指定元素
				//      //    type: 'datetime',
				//          value: getDay(0) + ' 00:00:00',
				//
				//      });
				//      laydate.render({
				//          elem: "#test4", //指定元素
				//      //    type: 'datetime',
				//          value: getDay(0) + ' 23:59:59',
				//
				//      });
				$(document).ready(function() {

				});
				total($(".unlike2 ul li"), $(".unlike2 .dropdown-selected"), $(".unlike2 ul"), $(".unlike2"));
				total($(".unlike3 ul li"), $(".unlike3 .dropdown-selected1"), $(".unlike3 ul"), $(".unlike3"));
				total($(".unlike1 ul li"), $(".unlike1 .dropdown-selected1"), $(".unlike1 ul"), $(".unlike1"));
				total($(".unlike4 ul li"), $(".unlike4 .dropdown-selected1"), $(".unlike4 ul"), $(".unlike4"));
			});
		</script>
	</body>

</html>